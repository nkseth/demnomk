{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useState, useEffect } from \"react\";\nimport { BoxStyle1, GoodSituation, Pager } from \"../../../../../common\";\nimport { Switch, Route, useRouteMatch } from \"react-router\";\nimport NoOrdersPage from \"./OrdersLayouts/NoOrdersPage\";\nimport { Translate } from \"react-localize-redux\";\nimport arrowIcon from \"./../../../../../../assets/icons/img-down-arrow-white.svg\";\nimport arrowLink from \"./../../../../../../assets/icons/img-linear-arrow.svg\";\nimport { useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport OrderDetail from \"./OrdersLayouts/OrderDetail\";\nimport OrderReview from \"./OrdersLayouts/OrderReview\";\nimport CancelOrders from \"./OrdersLayouts/CancelOrders\";\nimport { Scrollbars } from \"react-custom-scrollbars\";\nimport { selectLang } from \"../../../../../../appConfigSlice\";\nimport { format } from \"date-fns\";\nimport { LandScapePhonesAndBigger, LandScapePhones } from \"../../../../../../Responsive\";\nimport { client_getOrderList } from \"./../../../../../../lib/api/client/clientUserPanel\";\n\nconst renderBoxHeader = () => {\n  return __jsx(\"div\", {\n    className: \"profile-edit__header-container\"\n  }, __jsx(\"h2\", {\n    className: \"profile-edit__box-header\"\n  }, __jsx(Translate, {\n    id: \"orders.orders\"\n  })), __jsx(LandScapePhonesAndBigger, null, __jsx(\"p\", {\n    className: \"profile-edit__box-subheader\"\n  }, __jsx(Translate, {\n    id: \"orders.orders-des1\"\n  }))));\n};\n\nexport default (() => {\n  const {\n    0: emptyOrdersPage,\n    1: setEmptyOrdersPage\n  } = useState(true);\n  const {\n    0: pageNumber,\n    1: setPageNumber\n  } = useState(1);\n  const {\n    0: pageSize,\n    1: setPageSize\n  } = useState(3);\n  const {\n    0: orderItems,\n    1: setOrderItems\n  } = useState([]);\n  const {\n    0: totalNumber,\n    1: setTotalNumber\n  } = useState(0);\n  const {\n    path,\n    url\n  } = useRouteMatch(); //this code is for Development purpose\n\n  const lang = useSelector(state => {\n    return state.appConfig.lang.code;\n  });\n  const currency = useSelector(state => {\n    return state.appConfig.currency.name;\n  }); // const activeLang = langs.find((lang) => {\n  //   return lang.active === true;\n  // });\n\n  const order_pre = process.env.NEXT_PUBLIC_Goods_PREFIX;\n  const download_pre = process.env.NEXT_PUBLIC_Download_PREFIX;\n  useEffect(() => {\n    const res = getData(pageNumber);\n    return () => {};\n  }, []);\n\n  const getData = async pagenumber => {\n    const response = await client_getOrderList({\n      id: 0,\n      pageSize: pageSize,\n      pageNumber: pagenumber\n    });\n    setTotalNumber(response.result.count);\n    setOrderItems(response.result.data);\n\n    if (response.result.count == 0) {\n      setEmptyOrdersPage(true);\n    } else {\n      setEmptyOrdersPage(false);\n    }\n  };\n\n  const pageChangedAction = async pagenumber => {\n    setPageNumber(pagenumber);\n    const res = await getData(pagenumber);\n  };\n\n  return __jsx(Switch, null, __jsx(Route, {\n    strict: true,\n    path: `${path}/:id/cancel`,\n    render: routeProps => {\n      return __jsx(CancelOrders, routeProps);\n    }\n  }), __jsx(Route, {\n    strict: true,\n    path: `${path}/:id/:orderItemId/:good`,\n    render: routeProps => {\n      return __jsx(OrderReview, routeProps);\n    }\n  }), __jsx(Route, {\n    strict: true,\n    path: `${path}/:id`,\n    render: routeProps => {\n      return __jsx(OrderDetail, routeProps);\n    }\n  }), __jsx(Route, {\n    path: `${path}`\n  }, emptyOrdersPage ? __jsx(NoOrdersPage, null) : __jsx(BoxStyle1, {\n    headerContent: renderBoxHeader()\n  }, __jsx(\"section\", {\n    className: \"orders\"\n  }, orderItems.map(item => {\n    return __jsx(\"article\", {\n      className: \"orders__item-cnt\"\n    }, __jsx(LandScapePhones, null, __jsx(Link, {\n      to: `${url}/${item.orderId}`\n    }, __jsx(\"header\", {\n      className: \"orders__item-header flex-wrap no-gutters\"\n    }, __jsx(\"img\", {\n      src: arrowLink,\n      alt: \"arrow\",\n      className: \"orders__mobile-arrow\"\n    }), __jsx(\"h2\", {\n      className: \"orders__item-cnt-header\"\n    }, __jsx(Translate, {\n      id: \"orders.orders\"\n    }), \" \\xA0\", item.trackingCode), __jsx(\"span\", {\n      className: \"col-md-auto col-12 orders__header-gray-text\"\n    }, __jsx(Translate, {\n      id: \"orders.placed-on\"\n    }), \" \", item.placedDateTime)))), __jsx(LandScapePhonesAndBigger, null, __jsx(\"header\", {\n      className: \"orders__item-header flex-wrap no-gutters\"\n    }, __jsx(\"h2\", {\n      className: \"orders__item-cnt-header\"\n    }, __jsx(Translate, {\n      id: \"orders.orders\"\n    }), \" \\xA0\", item.trackingCode), __jsx(\"span\", {\n      className: \"col-md-auto col-12 orders__header-gray-text\"\n    }, __jsx(Translate, {\n      id: \"orders.placed-on\"\n    }), \" \", format(new Date(item.placedDateTime), \"MMM dd , yyyy\")))), __jsx(\"div\", {\n      className: \"orders__order-cnt\"\n    }, __jsx(Scrollbars, {\n      renderView: props => __jsx(\"div\", _extends({}, props, {\n        className: \"deliveryPanel__scrol-view\"\n      })) // renderTrackVertical={(props) => (\n      //   <div\n      //     {...props}\n      //     className=\"deliveryPanel__track-vertical\"\n      //   />\n      // )}\n      // Hide delay in ms autoHideTimeout={1000}\n      // Duration for hide animation in ms. autoHideDuration={200}\n      ,\n      style: {\n        width: \"100%\",\n        height: \"203px\"\n      }\n    }, __jsx(\"ul\", {\n      className: \"orders__orders-list\"\n    }, item === null || item === void 0 ? void 0 : item.items.map(orderItems => {\n      return __jsx(\"li\", {\n        className: \"orders__order-item\"\n      }, orderItems.isDownloadable ? __jsx(\"a\", {\n        target: \"_blank\",\n        href: `${download_pre}/${orderItems.goodsId}/${orderItems.downloadUrl}`\n      }, __jsx(\"figure\", {\n        className: \"orders__img-fig\"\n      }, __jsx(\"img\", {\n        src: `${order_pre}/${orderItems.goodsId}/${orderItems.goodsImage}`,\n        alt: \"item\",\n        className: \"orders__img\"\n      }), !orderItems.isDownloadable && __jsx(\"figcaption\", {\n        className: \"orders__fig-cap\"\n      }, __jsx(GoodSituation, {\n        id: orderItems.statusId,\n        title: orderItems.statusTitle\n      })))) : __jsx(\"a\", null, __jsx(\"figure\", {\n        className: \"orders__img-fig\"\n      }, __jsx(\"img\", {\n        src: `${order_pre}/${orderItems.goodsId}/${orderItems.goodsImage}`,\n        alt: \"item\",\n        className: \"orders__img\"\n      }), !orderItems.isDownloadable && __jsx(\"figcaption\", {\n        className: \"orders__fig-cap\"\n      }, __jsx(GoodSituation, {\n        id: orderItems.statusId,\n        title: orderItems.statusTitle\n      })))));\n    }))), __jsx(\"div\", {\n      className: \"mt-5 mt-md-0 orders__right-cnt\"\n    }, __jsx(\"div\", {\n      className: \"orders__right-items\"\n    }, __jsx(\"span\", {\n      className: \"orders__text-bold\"\n    }, __jsx(Translate, {\n      id: \"orders.order-sum\"\n    }), __jsx(\"span\", {\n      className: \"orders__text-small\"\n    }, item.orderItemCount), __jsx(\"span\", {\n      className: \"orders__text-small\"\n    }, __jsx(Translate, {\n      id: \"orders.items\"\n    }))), __jsx(\"span\", {\n      className: \"mt-3 orders__text-bold d-block\"\n    }, currency, \" \", item.finalPrice.toLocaleString()), __jsx(LandScapePhonesAndBigger, null, __jsx(Link, {\n      to: `${url}/${item.orderId}`,\n      className: \"primary-btn orders__btn\"\n    }, __jsx(Translate, {\n      id: \"orders.detail-view\"\n    }), __jsx(\"img\", {\n      className: \"orders__btn-arrow-icon\",\n      src: arrowIcon,\n      alt: \"arrow icon\"\n    })))))));\n  })), __jsx(Pager, {\n    count: Math.ceil(totalNumber / pageSize),\n    activeItem: pageNumber,\n    onPageClick: pageNumber => {\n      pageChangedAction(pageNumber);\n    }\n  })))) // <BoxStyle1 headerContent={renderBoxHeader()}>\n  //   <section className=\"orders\">\n  //   </section>\n  // </BoxStyle1>\n  ;\n});\n\nconst mapStateToProps = state => {\n  return {\n    lang: selectLang(state)\n  };\n};","map":null,"metadata":{},"sourceType":"module"}