{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\";\nimport ImageGallery from \"../../../../ImageGallery\";\nimport { Translate } from \"react-localize-redux\";\nimport heartOutlineIcon from \"./../../../../../../assets/icons/img-heart-outline.svg\";\nimport heartOutlineIconFill from \"./../../../../../../assets/icons/img-heart-fill.svg\";\nimport { LandScapePhones } from \"../../../../../../Responsive\";\nimport VariSelect from \"../VariSelect/VariSelect\";\nimport { GoodDetailContext } from \"../../GoodDetailContext\";\nimport Link from \"next/link\";\nimport { connect } from \"react-redux\";\nimport { PREVLINK_CHANGE, selectCurr, selectLang, selectLogin } from \"../../../../../../appConfigSlice\";\nimport { formatMoney } from \"../../../../../../lib/helpers\";\nimport { Loading } from \"../../../../../common\";\nimport { isRtl } from \"../../../../../../lib/isRtl\";\nimport { withRouter } from \"next/router\";\nimport { PhoneNumberFormat, PhoneNumberUtil } from \"google-libphonenumber\";\nimport { SEARCH_TYPE_CATEGORY } from \"../../../../../../lib/querys\";\nimport HtmlRenderModal from \"../../../../../common/HtmlRenderModal/HtmlRenderModal\";\nconst MARKET = 1;\nconst AJYAL = 2;\nconst UBEX = 3;\nconst DHL = 4;\nconst ARAMEX = 5;\nconst EXPRESS = 6;\nconst NOT_POSSIBLE = 7;\n\nclass ItemDetail extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"printVariSelect\", () => {\n      const variSelect = [];\n      const {\n        variPrintStructure,\n        variSelected,\n        VarietyExistencePossibility,\n        handleVariSelect,\n        handleNonMatchedVariSelect\n      } = this.context;\n\n      for (let key in variPrintStructure) {\n        variSelect.push(__jsx(VariSelect, {\n          type: key,\n          data: variPrintStructure[key],\n          variSelected: variSelected,\n          varietyExistencePossibility: VarietyExistencePossibility,\n          handleVariSelect: handleVariSelect,\n          handleNonMatchedVariSelect: handleNonMatchedVariSelect\n        }));\n      }\n\n      return variSelect;\n    });\n\n    _defineProperty(this, \"renderDeliverType\", () => {\n      let content = null;\n\n      switch (this.context.providerCityDeliveryType) {\n        case MARKET:\n          content = __jsx(React.Fragment, null, __jsx(\"img\", {\n            src: `${process.env.NEXT_PUBLIC_SHIPPINGMETHODIMAGE_PREFIX}/${MARKET + \".\" + this.props.lang + \".png\"}`,\n            alt: \"marketpalce\",\n            className: \"itemDetail__deli-img\"\n          }));\n          break;\n\n        case EXPRESS:\n          content = __jsx(\"img\", {\n            src: `${process.env.NEXT_PUBLIC_SHIPPINGMETHODIMAGE_PREFIX}/${EXPRESS + \".\" + this.props.lang + \".png\"}`,\n            alt: \"EXPRESS\",\n            className: \"itemDetail__deli-img\"\n          });\n          break;\n\n        case AJYAL:\n          content = __jsx(\"img\", {\n            src: `${process.env.NEXT_PUBLIC_SHIPPINGMETHODIMAGE_PREFIX}/${AJYAL + \".\" + this.props.lang + \".png\"}`,\n            alt: \"AJYAL\",\n            className: \"itemDetail__deli-img\"\n          });\n          break;\n\n        case UBEX:\n          content = __jsx(\"img\", {\n            src: `${process.env.NEXT_PUBLIC_SHIPPINGMETHODIMAGE_PREFIX}/${UBEX + \".\" + this.props.lang + \".png\"}`,\n            alt: \"UBEX\",\n            className: \"itemDetail__deli-img\"\n          });\n          break;\n\n        case ARAMEX:\n          content = __jsx(\"img\", {\n            src: `${process.env.NEXT_PUBLIC_SHIPPINGMETHODIMAGE_PREFIX}/${ARAMEX + \".\" + this.props.lang + \".png\"}`,\n            alt: \"ARAMEX\",\n            className: \"itemDetail__deli-img\"\n          });\n          break;\n\n        case DHL:\n          content = __jsx(\"img\", {\n            src: `${process.env.NEXT_PUBLIC_SHIPPINGMETHODIMAGE_PREFIX}/${DHL + \".\" + this.props.lang + \".png\"}`,\n            alt: \"DHL\",\n            className: \"itemDetail__deli-img\"\n          });\n          break;\n\n        case NOT_POSSIBLE:\n          content = __jsx(\"p\", {\n            class: \"itemDetail__cityError\"\n          }, __jsx(Translate, {\n            id: \"detail.city-not\"\n          }));\n          break;\n      }\n\n      return content;\n    });\n\n    _defineProperty(this, \"printPhone\", (phone, iso) => {\n      try {\n        const number = this.phoneUtil.parseAndKeepRawInput(phone, iso);\n        return this.phoneUtil.format(number, this.PNF.INTERNATIONAL);\n      } catch (err) {\n        return phone;\n      }\n    });\n\n    _defineProperty(this, \"handleLikeClick\", e => {\n      this.props.handleLikeClick(e);\n    });\n\n    this.goodData = this.props.data;\n    this.is_rtl = isRtl(this.props.lang);\n    this.PNF = PhoneNumberFormat;\n    this.phoneUtil = PhoneNumberUtil.getInstance();\n    this.phonenumber = null;\n  }\n\n  render() {\n    var _this$props$data, _this$goodData, _this$goodData2, _this$goodData3, _this$goodData4, _this$goodData5, _this$goodDeta, _this$goodData6, _this$goodData7, _this$goodData8;\n\n    const providerData = (_this$props$data = this.props.data) === null || _this$props$data === void 0 ? void 0 : _this$props$data.goodsProviderVarity[this.context.SelectedProviderIndex];\n    return __jsx(\"div\", {\n      className: \"row no-gutters\"\n    }, __jsx(\"div\", {\n      className: \"col-md-5 col-12\"\n    }, __jsx(LandScapePhones, null, __jsx(\"div\", {\n      onClick: this.handleLikeClick,\n      className: \"item-detials-like\"\n    }, __jsx(\"img\", {\n      src: this.context.itemLiked ? heartOutlineIconFill : heartOutlineIcon,\n      alt: \"heartOutlineIcon\"\n    }))), __jsx(ImageGallery, {\n      data: (_this$goodData = this.goodData) === null || _this$goodData === void 0 ? void 0 : _this$goodData.goodsDocument,\n      firstImg: (_this$goodData2 = this.goodData) === null || _this$goodData2 === void 0 ? void 0 : _this$goodData2.image,\n      id: this.goodData.goodsId\n    })), __jsx(\"div\", {\n      className: \"col-md-6 col-12 imageGalley-portal-magnifier__container \"\n    }, __jsx(\"div\", {\n      id: \"imageGalley-portal-magnifier\",\n      className: \"imageGalley-portal-magnifier\"\n    }), __jsx(\"div\", {\n      className: \"itemDetail\"\n    }, __jsx(Link, {\n      href: `/${this.props.curr}-${this.props.lang}/search?id=${this.goodData.fkCategoryId}&?type=${SEARCH_TYPE_CATEGORY}&brandId=${(_this$goodData3 = this.goodData) === null || _this$goodData3 === void 0 ? void 0 : _this$goodData3.brandId}`\n    }, __jsx(\"a\", null, __jsx(\"span\", {\n      className: \"cart-item__model itemDetail__small-text d-block brand\"\n    }, (_this$goodData4 = this.goodData) === null || _this$goodData4 === void 0 ? void 0 : _this$goodData4.brand))), __jsx(\"a\", {\n      className: \"goodItem-s2__name\"\n    }, (_this$goodData5 = this.goodData) === null || _this$goodData5 === void 0 ? void 0 : _this$goodData5.title), __jsx(\"a\", {\n      className: \"itemDetail__cat-name itemDetail__link\"\n    }, (_this$goodDeta = this.goodDeta) === null || _this$goodDeta === void 0 ? void 0 : _this$goodDeta.category), __jsx(\"div\", {\n      className: \"cart-item__model-container itemDetail__model-container d-flex\"\n    }, ((_this$goodData6 = this.goodData) === null || _this$goodData6 === void 0 ? void 0 : _this$goodData6.modelNumber) && __jsx(React.Fragment, null, __jsx(\"span\", {\n      className: \"cart-item__model itemDetail__small-text\"\n    }, __jsx(Translate, {\n      id: \"detail.model-num\"\n    })), __jsx(\"span\", {\n      className: \"cart-item__model-num-value itemDetail__small-value\"\n    }, this.goodData.modelNumber)), __jsx(\"div\", {\n      className: \"d-flex\"\n    }, __jsx(\"div\", {\n      className: \"itemDetail__survey-score\"\n    }, (_this$goodData7 = this.goodData) === null || _this$goodData7 === void 0 ? void 0 : _this$goodData7.surveyScore), __jsx(\"a\", {\n      className: \"itemDetail__survey-count\"\n    }, (_this$goodData8 = this.goodData) === null || _this$goodData8 === void 0 ? void 0 : _this$goodData8.surveyCount, \"\\xA0\", __jsx(Translate, {\n      id: \"sellerReviews\"\n    }), \"\\u200F\"))), !this.context.saleWithCall && __jsx(\"div\", null, (providerData === null || providerData === void 0 ? void 0 : providerData.discountAmount) > 0 && __jsx(\"div\", {\n      className: \"cart-item__model-container itemDetail__model-container itemDetail__model-container--margin d-flex\"\n    }, __jsx(\"span\", {\n      className: \"itemDetail__small-text\"\n    }, __jsx(Translate, {\n      id: \"detail.was\"\n    })), __jsx(\"div\", {\n      className: \"d-flex\"\n    }, !isRtl(this.props.lang) && __jsx(\"span\", {\n      className: \"goodItem-s2__price-off\"\n    }, __jsx(Translate, {\n      id: this.props.curr\n    }), \"\\xA0\"), __jsx(\"span\", {\n      className: \"goodItem-s2__price-off \"\n    }, formatMoney(providerData.price + providerData.vatamount)), isRtl(this.props.lang) && __jsx(\"span\", {\n      className: \"goodItem-s2__price-off\"\n    }, \"\\xA0\", __jsx(Translate, {\n      id: this.props.curr\n    })))), __jsx(\"div\", {\n      className: \"goodItem-s2__right-ft itemDetail__right-ft\"\n    }, __jsx(\"span\", {\n      className: \"itemDetail__small-text\"\n    }, __jsx(Translate, {\n      id: \"detail.now\"\n    })), __jsx(\"div\", {\n      className: \"itemDetail__final-price\"\n    }, __jsx(\"div\", {\n      className: \"goodItem-s2__price-container\"\n    }, !isRtl(this.props.lang) && __jsx(\"span\", {\n      className: \"goodItem-s2__number\"\n    }, __jsx(Translate, {\n      id: this.props.curr\n    }), \"\\xA0\"), __jsx(\"span\", {\n      className: \"goodItem-s2__number\"\n    }, formatMoney(providerData === null || providerData === void 0 ? void 0 : providerData.finalPrice)), isRtl(this.props.lang) && __jsx(\"span\", {\n      className: \"goodItem-s2__number\"\n    }, \"\\xA0\", __jsx(Translate, {\n      id: this.props.curr\n    }))), !(providerData === null || providerData === void 0 ? void 0 : providerData.vatfree) && __jsx(\"span\", {\n      className: \"itemDetail__small-value itemDetail__small-value--vat d-block\"\n    }, __jsx(Translate, {\n      id: \"detail.Inclusive\"\n    }))))), (providerData === null || providerData === void 0 ? void 0 : providerData.discountAmount) > 0 && __jsx(\"div\", {\n      className: \"cart-item__model-container itemDetail__model-container itemDetail__model-container--margin d-flex\"\n    }, __jsx(\"span\", {\n      className: \"itemDetail__small-text\"\n    }, __jsx(Translate, {\n      id: \"detail.saving\"\n    })), __jsx(\"span\", {\n      className: \"itemDetail__small-value\"\n    }, __jsx(Translate, {\n      id: this.props.curr\n    }), \"\\xA0\", formatMoney(providerData.discountAmount)), __jsx(\"div\", {\n      className: \"goodItem-s2__off-percentage-container\"\n    }, __jsx(\"span\", {\n      className: \"goodItem-s2__off-percentage\"\n    }, providerData.discountPercentage), __jsx(\"span\", {\n      className: \"goodItem-s2__off-text\"\n    }, \"% OFF\"))), !this.context.saleWithCall && !this.context.isDownloadable && __jsx(\"div\", {\n      className: \"itemDetail__delivery\"\n    }, __jsx(\"div\", {\n      className: \"itemDetail__deli-cnt\"\n    }, this.context.deliveryBoxLoading ? __jsx(Loading, {\n      type: \"gray\",\n      width: \"70px\"\n    }) : __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: \"itemDetail__item\"\n    }, __jsx(\"span\", {\n      className: \"itemDetail__item-small-text d-flex\"\n    }, __jsx(Translate, {\n      id: \"detail.deliverTo\"\n    }), __jsx(\"span\", {\n      className: \"itemDetail__item-small-text itemDetail__item-small-text--bold\"\n    }, this.context.providerCityText)), __jsx(\"span\", {\n      className: \"itemDetail__link\",\n      onClick: this.props.openPanel\n    }, __jsx(Translate, {\n      id: \"detail.changeAre\"\n    }))), __jsx(\"div\", {\n      className: \"estimatore-container\"\n    }, __jsx(\"div\", {\n      className: \"estimator_first\"\n    }, __jsx(\"div\", {\n      className: \"estimator_left\"\n    }, this.context.providerCityDeliveryType == MARKET || this.context.providerCityDeliveryType == AJYAL ? __jsx(\"div\", null, __jsx(\"p\", {\n      className: \"deliver-by d-flex\"\n    }, __jsx(Translate, {\n      id: \"DeliveredBy\"\n    }), \"\\u200F\", __jsx(\"span\", {\n      className: \"on-date\"\n    }, this.context.providerCityDeliveryPostTimeoutDay))) : null), __jsx(\"div\", {\n      className: \"estimator_right\"\n    }, __jsx(\"div\", {\n      className: \"estimator-right-wrapper\"\n    }, this.renderDeliverType(), __jsx(\"div\", {\n      className: \"help-icon-container\"\n    }, this.context.providerCityDeliveryType !== NOT_POSSIBLE ? __jsx(\"button\", {\n      type: \"button\",\n      className: \"tooltipTrigger\",\n      \"aria-label\": \"Help Center\"\n    }, __jsx(HtmlRenderModal, {\n      description: this.context.providerCityDeliveryTypeDesc,\n      showText: false\n    })) : null)))))))), (providerData.tGoodsVariety.length > 0 || this.context.saleWithCall) && __jsx(\"div\", {\n      className: \"itemDetail__deli-sep\"\n    }), this.printVariSelect())));\n  }\n\n}\n\n_defineProperty(ItemDetail, \"contextType\", GoodDetailContext);\n\nconst mapDispatchToProps = {\n  saveLink: link => {\n    return {\n      type: PREVLINK_CHANGE,\n      payload: {\n        link\n      }\n    };\n  }\n};\n\nconst mapStateToProps = state => {\n  return {\n    curr: selectCurr(state),\n    lang: selectLang(state),\n    isLogin: selectLogin(state).isLogin\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ItemDetail));","map":null,"metadata":{},"sourceType":"module"}