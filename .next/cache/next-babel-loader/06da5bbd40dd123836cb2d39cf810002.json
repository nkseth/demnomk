{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport BoxStyle2 from \"../../../../../common/BoxStyle2\";\nimport { Translate } from \"react-localize-redux\";\nimport { ReactComponent as EmptyWalletIcon } from \"./../../../../../../assets/icons/empty-payment.svg\";\nimport { client_getCreditList, client_getCustomerBankCards, client_removeCustomerBankCard } from \"../../../../../../lib/api/client/clientUserPanel\";\nimport { format } from \"date-fns\";\nimport { Pager, Loading } from \"../../../../../common\";\nimport { TRANSACTIONTYPE_Purchase, TRANSACTIONTYPE_Cash, TRANSACTIONTYPE_Gift, TRANSACTIONTYPE_Refund } from \"./../../UserPanelConstants\";\nimport { LandScapePhones, LandScapePhonesAndBigger } from \"../../../../../../Responsive\";\nimport { selectCurr } from \"../../../../../../appConfigSlice\";\nimport CreditCardItem from \"./CreditCardItem\";\nimport { connect } from \"react-redux\";\nexport default (() => {\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n  const {\n    0: cards,\n    1: setCards\n  } = useState([]);\n  useEffect(() => {\n    const res = getData();\n  }, []);\n\n  const removeCustomerBankCard = async bankCardId => {\n    setIsLoading(true);\n    client_removeCustomerBankCard(bankCardId).then(res => {\n      console.log(res);\n      setIsLoading(false);\n      getData();\n    }).catch(err => {\n      setIsLoading(false);\n      console.log(err);\n    });\n  };\n\n  const getData = async () => {\n    setIsLoading(true);\n    client_getCustomerBankCards().then(res => {\n      console.log(res);\n      setCards(res.result);\n      setIsLoading(false);\n    }).catch(err => {\n      setIsLoading(false);\n      console.log(err);\n    });\n  };\n\n  const onItemClickHandler = bankCardId => {\n    console.log(bankCardId);\n    removeCustomerBankCard(bankCardId);\n  };\n\n  return __jsx(BoxStyle2, {\n    className: \"payment\"\n  }, isLoading ? __jsx(Loading, {\n    type: \"gray\",\n    width: \"9%\",\n    height: \"70%\"\n  }) : __jsx(\"div\", null, __jsx(\"section\", {\n    className: \"payment__content\"\n  }, (cards === null || cards === void 0 ? void 0 : cards.length) > 0 ? __jsx(\"div\", {\n    className: \"payment__data-wrapper\"\n  }, cards === null || cards === void 0 ? void 0 : cards.map(item => {\n    return __jsx(\"div\", {\n      key: item.bankCardId,\n      className: \"card-item-wrapper\"\n    }, __jsx(CreditCardItem, {\n      onItemClick: onItemClickHandler,\n      data: item\n    }));\n  })) : __jsx(\"section\", {\n    className: \"no-address\"\n  }, __jsx(\"div\", null, __jsx(EmptyWalletIcon, {\n    className: \"no-address__icon\"\n  }), __jsx(\"p\", {\n    className: \"no-address__topText\"\n  }, __jsx(Translate, {\n    id: \"payment.dont-have-payment-card\"\n  })))))));\n});","map":null,"metadata":{},"sourceType":"module"}