{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport { Translate } from \"react-localize-redux\"; // import \"./Profile.scss\";\n\nimport { BoxStyle1, Loading } from \"../../../../../common\";\nimport { Link, Route, Switch } from \"react-router-dom\";\nimport { client_getProfileGeneralDetail } from \"../../../../../../lib/api/client/clientUserPanel\";\nimport TickIcon from \"../../../../../../assets/icons/tick.svg\";\nimport ProfileEdit from \"./ProfileEdit\"; // import \"./Profile-rtl.scss\";\n\nimport profileImage from \"./../../../../../../assets/icons/profile.svg\";\nimport classnames from \"classnames\";\nimport { ProtraitPhonesAndBigger, ProtraitPhones, LandScapePhones, Tablets } from \"../../../../../../Responsive\";\nimport PanelNavi from \"../../PanelLayouts/PanelNavi/PanelNavi\";\nimport ProfileVerifyEmail from \"./ProfileVerifyEmail\";\nimport { ToastContainer } from \"react-toastify\";\nimport { connect } from \"react-redux\";\nimport { selectLang } from \"../../../../../../appConfigSlice\";\nimport { getToastConfig } from \"../../../../../../lib/toast\";\nimport { isRtl } from \"../../../../../../lib/isRtl\";\nimport { PhoneNumberFormat, PhoneNumberUtil } from \"google-libphonenumber\";\nexport var PROFILE = 1;\nexport var PROFILE_EMAIL_VERIFY = 2;\n\nvar Profile = /*#__PURE__*/function (_React$Component) {\n  _inherits(Profile, _React$Component);\n\n  var _super = _createSuper(Profile);\n\n  function Profile(props) {\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"getData\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.setState({\n                showLoader: true\n              });\n\n              _context.next = 3;\n              return client_getProfileGeneralDetail();\n\n            case 3:\n              result = _context.sent;\n\n              _this.setState({\n                birthDate: result.result.birthDate,\n                cityName: result.result.cityName,\n                countryName: result.result.countryName,\n                customerId: result.result.customerId,\n                email: result.result.email,\n                family: result.result.family,\n                fkCountryId: result.result.fkCountryId,\n                lastLogin: result.result.lastLogin,\n                mobileNumber: result.result.mobileNumber,\n                name: result.result.name,\n                nationalCode: result.result.nationalCode,\n                registeryDate: result.result.registeryDate,\n                emailVerifed: result.result.emailVerifed,\n                iso: result.result.iso,\n                phoneCode: result.result.phoneCode,\n                mobileVerifed: result.result.mobileVerifed,\n                fkCityId: result.result.fkCityId,\n                fkProvinceId: result.result.fkProvinceId,\n                provinceName: result.result.provinceName,\n                showLoader: false\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSituation\", function (situ) {\n      switch (situ) {\n        case PROFILE:\n          _this.setState({\n            profilePosi: PROFILE\n          });\n\n          _this.getData();\n\n          break;\n\n        case PROFILE_EMAIL_VERIFY:\n          _this.setState({\n            profilePosi: PROFILE_EMAIL_VERIFY\n          });\n\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"formatPhoneNumber\", function () {\n      if (_this.state.mobileNumber) {\n        try {\n          return _this.phoneUtil.format(_this.phoneUtil.parseAndKeepRawInput(_this.state.phoneCode + _this.state.mobileNumber, _this.state.iso), _this.PNF.INTERNATIONAL);\n        } catch (error) {\n          console.log(error);\n          return \"\";\n        }\n      } else {\n        return \"\";\n      }\n    });\n\n    _this.state = {\n      profilePosi: PROFILE,\n      birthDate: \"\",\n      cityName: \"\",\n      countryName: \"\",\n      customerId: 0,\n      email: \"\",\n      family: \"\",\n      fkCountryId: \"\",\n      lastLogin: \"\",\n      mobileNumber: \"\",\n      name: \"\",\n      nationalCode: \"\",\n      registeryDate: \"\",\n      showLoader: false\n    };\n    _this.phoneUtil = PhoneNumberUtil.getInstance();\n    _this.PNF = PhoneNumberFormat;\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getData();\n    }\n  }, {\n    key: \"renderBoxHeader\",\n    value: function renderBoxHeader() {\n      return __jsx(\"h2\", {\n        className: \"user-panel__box-header\"\n      }, __jsx(Translate, {\n        id: \"nav.profile\"\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(React.Fragment, null, __jsx(ToastContainer, _extends({\n        rtl: isRtl(this.props.lang)\n      }, getToastConfig())), __jsx(Switch, null, __jsx(Route, {\n        path: \"\".concat(this.props.match.path, \"/edit\"),\n        render: function render() {\n          return __jsx(ProfileEdit, {\n            state: _this2.state,\n            getData: _this2.getData\n          });\n        }\n      }), __jsx(Route, {\n        exact: true,\n        path: \"\".concat(this.props.match.path)\n      }, this.state.profilePosi === PROFILE_EMAIL_VERIFY ? __jsx(React.Fragment, null, __jsx(ProfileVerifyEmail, {\n        email: this.state.email,\n        handleSitu: this.handleSituation\n      })) : __jsx(React.Fragment, null, this.state.showLoader ? __jsx(\"div\", {\n        style: {\n          minHeight: \"100vh\"\n        }\n      }, __jsx(Loading, {\n        type: \"gray\",\n        width: \"11%\",\n        height: \"70%\"\n      })) : __jsx(BoxStyle1, {\n        headerContent: this.renderBoxHeader()\n      }, __jsx(\"section\", {\n        className: \"profile\"\n      }, __jsx(\"div\", {\n        className: \"row\"\n      }, __jsx(\"div\", {\n        className: \"col-12 col-md-6\"\n      }, __jsx(\"div\", {\n        className: \"profile__item-container flex-wrap\"\n      }, __jsx(\"span\", {\n        className: \"profile__item\"\n      }, __jsx(Translate, {\n        id: \"profile.firstname\"\n      })), __jsx(\"span\", {\n        className: \"profile__item profile__item--color\"\n      }, this.state.name)), __jsx(\"div\", {\n        className: \"profile__item-container profile__item-container--color\"\n      }, __jsx(\"span\", {\n        className: \"profile__item\"\n      }, __jsx(Translate, {\n        id: \"profile.lastname\"\n      })), __jsx(\"span\", {\n        className: \"profile__item profile__item--color\"\n      }, this.state.family)), __jsx(\"div\", {\n        className: \"profile__item-container\"\n      }, __jsx(\"span\", {\n        className: \"profile__item\"\n      }, __jsx(Translate, {\n        id: \"profile.national-code\"\n      })), __jsx(\"span\", {\n        className: \"profile__item profile__item--color\"\n      }, this.state.nationalCode)), __jsx(\"div\", {\n        className: \"profile__item-container profile__item-container--color\"\n      }, __jsx(\"span\", {\n        className: \"profile__item\"\n      }, __jsx(Translate, {\n        id: \"profile.birthday-date\"\n      })), __jsx(\"span\", {\n        className: \"profile__item profile__item--color\"\n      }, this.state.birthDate))), __jsx(\"div\", {\n        className: \"col-12 mt-md-0 col-md-6\"\n      }, __jsx(\"div\", {\n        className: \"profile__item-container profile__item-container--color\"\n      }, __jsx(\"span\", {\n        className: \"profile__item\"\n      }, __jsx(Translate, {\n        id: \"profile.email1\"\n      })), __jsx(\"div\", null, __jsx(\"span\", {\n        className: \"profile__item profile__item--color\"\n      }, this.state.email, this.state.emailVerifed && __jsx(TickIcon, {\n        className: \"ml-3 mr-3 mb-1\"\n      })), !this.state.emailVerifed && __jsx(\"div\", null, __jsx(\"span\", {\n        className: classnames(\"addresses__ars-alert\"),\n        onClick: function onClick() {\n          _this2.handleSituation(PROFILE_EMAIL_VERIFY);\n        }\n      }, __jsx(\"span\", {\n        className: \"addresses__alert-icon\"\n      }, \"!\"), __jsx(Translate, {\n        id: \"email-verify.verify-email\"\n      }))))), __jsx(\"div\", {\n        className: \"profile__item-container\"\n      }, __jsx(\"span\", {\n        className: \"profile__item\"\n      }, __jsx(Translate, {\n        id: \"profile.country-name\"\n      })), __jsx(\"span\", {\n        className: \"profile__item profile__item--color\"\n      }, this.state.countryName)), __jsx(\"div\", {\n        className: \"profile__item-container profile__item-container--color\"\n      }, __jsx(\"span\", {\n        className: \"profile__item\"\n      }, __jsx(Translate, {\n        id: \"profile.city-name\"\n      })), __jsx(\"span\", {\n        className: \"profile__item profile__item--color\"\n      }, this.state.cityName)), __jsx(\"div\", {\n        className: \"profile__item-container profile__item-container\"\n      }, __jsx(\"span\", {\n        className: \"profile__item\"\n      }, __jsx(Translate, {\n        id: \"profile.mobile-number\"\n      })), __jsx(\"div\", null, __jsx(\"span\", {\n        className: \"profile__item profile__item--color\"\n      }, this.formatPhoneNumber(), this.state.mobileVerifed && __jsx(TickIcon, {\n        className: \"ml-3 mr-3 mb-1\"\n      })), this.state.mobileNumber && !this.state.mobileVerifed ? __jsx(\"div\", null, __jsx(\"span\", {\n        className: classnames(\"addresses__ars-alert\"),\n        onClick: function onClick() {// this.handleSituation(\n          //   PROFILE_EMAIL_VERIFY\n          // );\n        }\n      }, __jsx(\"span\", {\n        className: \"addresses__alert-icon\"\n      }, \"!\"), __jsx(Translate, {\n        id: \"addresses.notvery\"\n      }))) : null)))), __jsx(Link, {\n        to: \"\".concat(this.props.match.url, \"/edit\"),\n        className: \"primary-btn profile__btn\"\n      }, __jsx(Translate, {\n        id: \"profile.editprofile\"\n      }))))))));\n    }\n  }]);\n\n  return Profile;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    lang: selectLang(state)\n  };\n};\n\nexport default connect(mapStateToProps)(Profile);","map":null,"metadata":{},"sourceType":"module"}