{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport { BoxStyle2 } from \"../../../../../../common\";\nimport { Translate } from \"react-localize-redux\";\nimport { ReactComponent as BackIcon } from \"./../../../../../../../assets/icons/back.svg\";\nimport { Link } from \"react-router-dom\";\nimport { ReactComponent as BusinessIcon } from \"./../../../../../../../assets/icons/business-and-trade.svg\";\nimport OrderItem from \"./OrderItem\";\nimport OrderCartDetail from \"./OrderCartDetail\";\nimport { LandScapePhonesAndBigger, LandScapePhones } from \"../../../../../../../Responsive\";\nimport { format } from \"date-fns\";\nimport { client_getOrderItems } from \"../../../../../../../lib/api/client/clientUserPanel\";\nimport { connect } from \"react-redux\";\nimport { selectCurr, selectLang } from \"../../../../../../../appConfigSlice\";\nimport { PhoneNumberFormat, PhoneNumberUtil } from \"google-libphonenumber\";\n\nvar OrderDetail = /*#__PURE__*/function (_React$Component) {\n  _inherits(OrderDetail, _React$Component);\n\n  var _super = _createSuper(OrderDetail);\n\n  function OrderDetail(props) {\n    var _this;\n\n    _classCallCheck(this, OrderDetail);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleBackClick\", function () {//   console.log(this.props.match);\n      //   this.props.history.push(`${this.props.match.url}`);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getData\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.setState({\n                showLoader: true\n              });\n\n              _context.next = 3;\n              return client_getOrderItems(_this.props.match.params.id);\n\n            case 3:\n              result = _context.sent;\n\n              _this.setState({\n                showLoader: false\n              });\n\n              _this.setState({\n                data: result.result\n              });\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    _this.state = {\n      showLoader: false,\n      data: {}\n    };\n    _this.phoneUtil = PhoneNumberUtil.getInstance();\n    _this.PNF = PhoneNumberFormat;\n    return _this;\n  }\n\n  _createClass(OrderDetail, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getData();\n    }\n  }, {\n    key: \"renderBoxHeader\",\n    value: function renderBoxHeader() {\n      return __jsx(\"header\", {\n        className: \"mapAddress__header\"\n      }, __jsx(Link, {\n        to: this.props.match.url.split(\"/\").slice(0, -1).join(\"/\"),\n        className: \"orderDetail__backlink\"\n      }, __jsx(BackIcon, {\n        className: \"mapAddress__back-icon\"\n      }), __jsx(\"div\", {\n        className: \"orders__item-header flex-wrap no-gutters\"\n      }, __jsx(\"h2\", {\n        className: \"orders__item-cnt-header\"\n      }, __jsx(Translate, {\n        id: \"orders.orders\"\n      }), \" \\xA0\", \" \", this.state.data.trackingCode), __jsx(\"span\", {\n        className: \"col-md-auto col-12 orders__header-gray-text\"\n      }, __jsx(Translate, {\n        id: \"orders.placed-on\"\n      }), \" \\xA0\", \" \", this.state.data.placedDateTime !== undefined ? format(new Date(this.state.data.placedDateTime), \"MMM dd , yyyy\") : null))));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state$data,\n          _this$state$data$item,\n          _this2 = this;\n\n      return __jsx(\"section\", {\n        className: \"orderDetail\"\n      }, __jsx(BoxStyle2, {\n        headerContent: this.renderBoxHeader()\n      }, __jsx(\"header\", {\n        className: \"orderDetail__header-top row mr-0 ml-0 justify-content-between\"\n      }, __jsx(\"div\", {\n        className: \"col-12 col-sm-6 col-md-5\"\n      }, __jsx(\"i\", {\n        className: \"orderDetail__addr-icon\"\n      }, __jsx(BusinessIcon, null)), __jsx(\"p\", {\n        className: \"orderDetail__header-text orderDetail__header-text--margin\"\n      }, this.state.data.address)), __jsx(\"div\", {\n        className: \"mt-4 mt-sm-0 col-sm-4 col-md-3\"\n      }, __jsx(\"span\", {\n        className: \"orderDetail__header-text d-block\"\n      }, this.state.data.transfereeName, \" \", this.state.data.transfereeFamily), __jsx(\"span\", {\n        className: \"orderDetail__header-text d-block\"\n      }, this.state.data.transfereeMobile ? this.phoneUtil.format(this.phoneUtil.parseAndKeepRawInput(this.state.data.transfereeMobile, this.state.data.iso), this.PNF.INTERNATIONAL) : null)), __jsx(LandScapePhonesAndBigger, {\n        className: \"col-3 p-0\"\n      }, __jsx(\"div\", {\n        style: {\n          textAlign: 'right'\n        }\n      }, this.state.data.cancelingAllowed ? __jsx(Link, {\n        to: \"\".concat(this.props.match.url, \"/cancel\"),\n        className: \"orange-btn orderDetail__cancel-btn\"\n      }, __jsx(Translate, {\n        id: \"orders.cancel-item-btn\"\n      })) : null)), __jsx(LandScapePhones, {\n        className: \"d-flex mt-3 w-100 justify-content-center\"\n      }, this.state.data.cancelingAllowed ? __jsx(Link, {\n        to: \"\".concat(this.props.match.url, \"/cancel\"),\n        className: \"orange-btn orderDetail__cancel-btn\"\n      }, __jsx(Translate, {\n        id: \"orders.cancel-item-btn\"\n      })) : null)), __jsx(\"section\", {\n        className: \"orderDetail__goods-cnt\"\n      }, (_this$state$data = this.state.data) === null || _this$state$data === void 0 ? void 0 : (_this$state$data$item = _this$state$data.items) === null || _this$state$data$item === void 0 ? void 0 : _this$state$data$item.map(function (item) {\n        return __jsx(OrderItem, {\n          reviewLink: \"\".concat(_this2.props.match.url, \"/\").concat(item.itemId, \"/\").concat(item.goodsId),\n          data: item,\n          key: item.itemId,\n          currency: _this2.props.currency,\n          lang: _this2.props.lang\n        });\n      }))), __jsx(BoxStyle2, {\n        className: \"order-cart\"\n      }, __jsx(OrderCartDetail, {\n        data: this.state.data,\n        currency: this.props.currency\n      })));\n    }\n  }]);\n\n  return OrderDetail;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    lang: selectLang(state),\n    currency: selectCurr(state)\n  };\n};\n\nexport default connect(mapStateToProps)(OrderDetail);","map":null,"metadata":{},"sourceType":"module"}