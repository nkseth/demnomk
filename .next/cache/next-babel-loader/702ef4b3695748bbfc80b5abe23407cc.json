{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport BoxStyle2 from \"../../../../../common/BoxStyle2\";\nimport { Translate } from \"react-localize-redux\";\nimport { ReactComponent as EmptyWalletIcon } from \"./../../../../../../assets/icons/empty-payment.svg\";\nimport { client_getCreditList, client_getCustomerBankCards, client_removeCustomerBankCard } from \"../../../../../../lib/api/client/clientUserPanel\";\nimport { format } from \"date-fns\";\nimport { Pager, Loading } from \"../../../../../common\";\nimport { TRANSACTIONTYPE_Purchase, TRANSACTIONTYPE_Cash, TRANSACTIONTYPE_Gift, TRANSACTIONTYPE_Refund } from \"./../../UserPanelConstants\";\nimport { LandScapePhones, LandScapePhonesAndBigger } from \"../../../../../../Responsive\";\nimport { selectCurr } from \"../../../../../../appConfigSlice\";\nimport CreditCardItem from \"./CreditCardItem\";\nimport { connect } from \"react-redux\";\nexport default (function () {\n  var _useState = useState(false),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState([]),\n      cards = _useState2[0],\n      setCards = _useState2[1];\n\n  useEffect(function () {\n    var res = getData();\n  }, []);\n\n  var removeCustomerBankCard = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(bankCardId) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setIsLoading(true);\n              client_removeCustomerBankCard(bankCardId).then(function (res) {\n                console.log(res);\n                setIsLoading(false);\n                getData();\n              })[\"catch\"](function (err) {\n                setIsLoading(false);\n                console.log(err);\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function removeCustomerBankCard(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var getData = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setIsLoading(true);\n              client_getCustomerBankCards().then(function (res) {\n                console.log(res);\n                setCards(res.result);\n                setIsLoading(false);\n              })[\"catch\"](function (err) {\n                setIsLoading(false);\n                console.log(err);\n              });\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function getData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var onItemClickHandler = function onItemClickHandler(bankCardId) {\n    console.log(bankCardId);\n    removeCustomerBankCard(bankCardId);\n  };\n\n  return __jsx(BoxStyle2, {\n    className: \"payment\"\n  }, isLoading ? __jsx(Loading, {\n    type: \"gray\",\n    width: \"9%\",\n    height: \"70%\"\n  }) : __jsx(\"div\", null, __jsx(\"section\", {\n    className: \"payment__content\"\n  }, (cards === null || cards === void 0 ? void 0 : cards.length) > 0 ? __jsx(\"div\", {\n    className: \"payment__data-wrapper\"\n  }, cards === null || cards === void 0 ? void 0 : cards.map(function (item) {\n    return __jsx(\"div\", {\n      key: item.bankCardId,\n      className: \"card-item-wrapper\"\n    }, __jsx(CreditCardItem, {\n      onItemClick: onItemClickHandler,\n      data: item\n    }));\n  })) : __jsx(\"section\", {\n    className: \"no-address\"\n  }, __jsx(\"div\", null, __jsx(EmptyWalletIcon, {\n    className: \"no-address__icon\"\n  }), __jsx(\"p\", {\n    className: \"no-address__topText\"\n  }, __jsx(Translate, {\n    id: \"payment.dont-have-payment-card\"\n  })))))));\n});","map":null,"metadata":{},"sourceType":"module"}