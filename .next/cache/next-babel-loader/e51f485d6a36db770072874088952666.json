{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport { withRouter } from \"next/router\";\nimport { LocalizeProvider, Translate } from \"react-localize-redux\";\nimport { connect } from \"react-redux\";\nimport { translationsPayload, mergeTranslations } from \"../../../translations/payload\";\nimport UserPanelTranslations from \"../../../translations/user-panel-translations.json\";\nimport HeaderTranslations from \"./../../../translations/header-translations.json\";\nimport { isServer } from \"../../../lib/isServer\"; // import { StaticRouter, BrowserRouter } from \"react-router-dom\";\n// import Footer from \"../../../components/app/footer\";\n// import { Header } from \"../../../components/app/header\";\n\nimport Cookies from \"js-cookie\";\nimport Head from \"next/head\";\nimport dynamic from \"next/dynamic\";\nimport { WithUserAgentProps, withUserAgent } from \"next-useragent\";\nvar PanelDesktop = dynamic(function () {\n  return import(\"./PanelDesktop\");\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"./PanelDesktop\")];\n    },\n    modules: [\"./PanelDesktop\"]\n  }\n});\nvar PanelMobile = dynamic(function () {\n  return import(\"./PanelMobile\");\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"./PanelMobile\")];\n    },\n    modules: [\"./PanelMobile\"]\n  }\n});\n\nvar Panel = /*#__PURE__*/function (_React$Component) {\n  _inherits(Panel, _React$Component);\n\n  var _super = _createSuper(Panel);\n\n  function Panel(props) {\n    var _this;\n\n    _classCallCheck(this, Panel);\n\n    _this = _super.call(this, props);\n\n    if (!isServer()) {\n      _this.redirect = false;\n      _this.isLogin = true;\n      var token = Cookies.get(process.env.NEXT_PUBLIC_Token_Cookie_name); // check user is login or not\n\n      if (!token) {\n        _this.isLogin = false;\n      }\n\n      if (!_this.isLogin) {\n        if (_this.props.ua.isDesktop) {\n          _this.props.router.push(\"/\".concat(_this.props.curr, \"-\").concat(_this.props.lang, \"/Auth\"));\n\n          _this.redirect = true;\n        } else {\n          if (_this.props.router.asPath == \"/\".concat(_this.props.curr, \"-\").concat(_this.props.lang, \"/panel\") || _this.props.router.asPath == \"/\".concat(_this.props.curr, \"-\").concat(_this.props.lang, \"/panel/\")) {\n            return _possibleConstructorReturn(_this);\n          }\n\n          _this.props.router.push(\"/\".concat(_this.props.curr, \"-\").concat(_this.props.lang, \"/Auth\"));\n\n          _this.redirect = true;\n        }\n      }\n    }\n\n    return _this;\n  }\n\n  _createClass(Panel, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props$data$head, _this$props$data$head2;\n\n      if (this.redirect) {\n        return __jsx(\"p\", null, \"Redirecting...\");\n      }\n\n      var loc = \"/\" + this.props.router.asPath.split(\"/\")[1] + \"/panel\";\n      return __jsx(React.Fragment, null, __jsx(LocalizeProvider, {\n        initialize: translationsPayload(mergeTranslations(UserPanelTranslations, HeaderTranslations), this.props.lang)\n      }, __jsx(Translate, null, function (_ref) {\n        var t = _ref.translate;\n        return __jsx(Head, null, __jsx(\"title\", null, t(\"@userpanelTitle\")));\n      }), !this.props.ua.isDesktop ? __jsx(PanelMobile, _extends({\n        wishCount: (_this$props$data$head = this.props.data.header) === null || _this$props$data$head === void 0 ? void 0 : _this$props$data$head.wishListCount,\n        customerFullName: (_this$props$data$head2 = this.props.data.header) === null || _this$props$data$head2 === void 0 ? void 0 : _this$props$data$head2.customerFullName\n      }, this.props, {\n        loc: loc\n      })) : __jsx(PanelDesktop, _extends({}, this.props, {\n        loc: loc\n      }))));\n    }\n  }]);\n\n  return Panel;\n}(React.Component);\n\nexport var __N_SSP = true;\nexport default connect()(withRouter(withUserAgent(Panel)));","map":null,"metadata":{},"sourceType":"module"}