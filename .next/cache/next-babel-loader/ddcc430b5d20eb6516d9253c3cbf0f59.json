{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\";\nimport { BoxStyle2 } from \"../../../../../../common\";\nimport { Translate } from \"react-localize-redux\";\nimport { ReactComponent as BackIcon } from \"./../../../../../../../assets/icons/back.svg\";\nimport { Link } from \"react-router-dom\";\nimport { ReactComponent as BusinessIcon } from \"./../../../../../../../assets/icons/business-and-trade.svg\";\nimport OrderItem from \"./OrderItem\";\nimport OrderCartDetail from \"./OrderCartDetail\";\nimport { LandScapePhonesAndBigger, LandScapePhones } from \"../../../../../../../Responsive\";\nimport { format } from \"date-fns\";\nimport { client_getOrderItems } from \"../../../../../../../lib/api/client/clientUserPanel\";\nimport { connect } from \"react-redux\";\nimport { selectCurr, selectLang } from \"../../../../../../../appConfigSlice\";\nimport { PhoneNumberFormat, PhoneNumberUtil } from \"google-libphonenumber\";\n\nclass OrderDetail extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"handleBackClick\", () => {//   console.log(this.props.match);\n      //   this.props.history.push(`${this.props.match.url}`);\n    });\n\n    _defineProperty(this, \"getData\", async () => {\n      this.setState({\n        showLoader: true\n      });\n      const result = await client_getOrderItems(this.props.match.params.id);\n      this.setState({\n        showLoader: false\n      });\n      this.setState({\n        data: result.result\n      });\n    });\n\n    this.state = {\n      showLoader: false,\n      data: {}\n    };\n    this.phoneUtil = PhoneNumberUtil.getInstance();\n    this.PNF = PhoneNumberFormat;\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  renderBoxHeader() {\n    return __jsx(\"header\", {\n      className: \"mapAddress__header\"\n    }, __jsx(Link, {\n      to: this.props.match.url.split(\"/\").slice(0, -1).join(\"/\"),\n      className: \"orderDetail__backlink\"\n    }, __jsx(BackIcon, {\n      className: \"mapAddress__back-icon\"\n    }), __jsx(\"div\", {\n      className: \"orders__item-header flex-wrap no-gutters\"\n    }, __jsx(\"h2\", {\n      className: \"orders__item-cnt-header\"\n    }, __jsx(Translate, {\n      id: \"orders.orders\"\n    }), \" \\xA0\", \" \", this.state.data.trackingCode), __jsx(\"span\", {\n      className: \"col-md-auto col-12 orders__header-gray-text\"\n    }, __jsx(Translate, {\n      id: \"orders.placed-on\"\n    }), \" \\xA0\", \" \", this.state.data.placedDateTime !== undefined ? format(new Date(this.state.data.placedDateTime), \"MMM dd , yyyy\") : null))));\n  }\n\n  render() {\n    var _this$state$data, _this$state$data$item;\n\n    return __jsx(\"section\", {\n      className: \"orderDetail\"\n    }, __jsx(BoxStyle2, {\n      headerContent: this.renderBoxHeader()\n    }, __jsx(\"header\", {\n      className: \"orderDetail__header-top row mr-0 ml-0 justify-content-between\"\n    }, __jsx(\"div\", {\n      className: \"col-12 col-sm-6 col-md-5\"\n    }, __jsx(\"i\", {\n      className: \"orderDetail__addr-icon\"\n    }, __jsx(BusinessIcon, null)), __jsx(\"p\", {\n      className: \"orderDetail__header-text orderDetail__header-text--margin\"\n    }, this.state.data.address)), __jsx(\"div\", {\n      className: \"mt-4 mt-sm-0 col-sm-4 col-md-3\"\n    }, __jsx(\"span\", {\n      className: \"orderDetail__header-text d-block\"\n    }, this.state.data.transfereeName, \" \", this.state.data.transfereeFamily), __jsx(\"span\", {\n      className: \"orderDetail__header-text d-block\"\n    }, this.state.data.transfereeMobile ? this.phoneUtil.format(this.phoneUtil.parseAndKeepRawInput(this.state.data.transfereeMobile, this.state.data.iso), this.PNF.INTERNATIONAL) : null)), __jsx(LandScapePhonesAndBigger, {\n      className: \"col-3 p-0\"\n    }, __jsx(\"div\", {\n      style: {\n        textAlign: 'right'\n      }\n    }, this.state.data.cancelingAllowed ? __jsx(Link, {\n      to: `${this.props.match.url}/cancel`,\n      className: \"orange-btn orderDetail__cancel-btn\"\n    }, __jsx(Translate, {\n      id: \"orders.cancel-item-btn\"\n    })) : null)), __jsx(LandScapePhones, {\n      className: \"d-flex mt-3 w-100 justify-content-center\"\n    }, this.state.data.cancelingAllowed ? __jsx(Link, {\n      to: `${this.props.match.url}/cancel`,\n      className: \"orange-btn orderDetail__cancel-btn\"\n    }, __jsx(Translate, {\n      id: \"orders.cancel-item-btn\"\n    })) : null)), __jsx(\"section\", {\n      className: \"orderDetail__goods-cnt\"\n    }, (_this$state$data = this.state.data) === null || _this$state$data === void 0 ? void 0 : (_this$state$data$item = _this$state$data.items) === null || _this$state$data$item === void 0 ? void 0 : _this$state$data$item.map(item => {\n      return __jsx(OrderItem, {\n        reviewLink: `${this.props.match.url}/${item.itemId}/${item.goodsId}`,\n        data: item,\n        key: item.itemId,\n        currency: this.props.currency,\n        lang: this.props.lang\n      });\n    }))), __jsx(BoxStyle2, {\n      className: \"order-cart\"\n    }, __jsx(OrderCartDetail, {\n      data: this.state.data,\n      currency: this.props.currency\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    lang: selectLang(state),\n    currency: selectCurr(state)\n  };\n};\n\nexport default connect(mapStateToProps)(OrderDetail);","map":null,"metadata":{},"sourceType":"module"}