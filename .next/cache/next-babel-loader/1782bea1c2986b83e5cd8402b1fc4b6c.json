{"ast":null,"code":"import firebase from 'firebase/app';\nimport 'firebase/messaging';\nvar config = {\n  apiKey: \"AIzaSyCuFiXFlxTYqdyte-TsZAfxUJjch3jU1o8\",\n  authDomain: \"ajyal-shop.firebaseapp.com\",\n  projectId: \"ajyal-shop\",\n  storageBucket: \"ajyal-shop.appspot.com\",\n  messagingSenderId: \"953067270092\",\n  appId: \"1:953067270092:web:b4469316c4c0da4e413769\",\n  measurementId: \"G-7Y3Q3WJ0MP\"\n};\nvar isSafari = false;\nvar ua;\n\nif (true) {\n  ua = navigator.userAgent.toLowerCase();\n\n  if (ua.indexOf(\"safari\") != -1) {\n    if (ua.indexOf(\"chrome\") > -1) {} else {\n      isSafari = true;\n    }\n  }\n}\n\nif (!firebase.apps.length && !isSafari) {\n  firebase.initializeApp(config);\n}\n\nvar messaging;\n\nif (true && !isSafari) {\n  messaging = firebase.messaging();\n} // const messaging = firebase.messaging();\n// next block of code goes here\n\n\nexport var requestFirebaseNotificationPermission = function requestFirebaseNotificationPermission() {\n  if (isSafari) return;\n  return new Promise(function (resolve, reject) {\n    messaging.getToken() // .then(() => messaging.getToken())\n    .then(function (firebaseToken) {\n      resolve(firebaseToken);\n    })[\"catch\"](function (err) {\n      reject(err);\n    });\n  });\n};\nexport var onMessageListener = function onMessageListener() {\n  if (isSafari) return;\n  return new Promise(function (resolve) {\n    messaging.onMessage(function (payload) {\n      resolve(payload);\n    });\n  });\n};","map":null,"metadata":{},"sourceType":"module"}