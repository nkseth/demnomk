{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\"; // import \"./Order.scss\";\n// import \"./Order-rtl.scss\";\n// import orderTranslations from \"./../../../../translations/order-translations.json\";\n/// for UI development\n// import data from \"../../../data/data2.json\";\n// import data2 from \"../../../data/data.jsx\";\n\nimport { connect } from \"react-redux\";\nimport { SHIPPING, PAYMENT, MAXSTEP, COMPLETE_AND_NEXT, NEXT, PREV, ORDERPLACED } from \"./OrderConstants\";\nimport { orderContext } from \"./OrderContext\";\nimport { SwitchTransition, CSSTransition } from \"react-transition-group\";\nimport { v4 } from \"uuid\";\nimport { ShippingAddress, OrderNav, Payment, MobileOrderNav } from \"./OrderLayouts\";\nimport OrderPlaced from \"./OrderLayouts/OrderPlaced/OrderPlaced\";\nimport { DesktopsAndBigger, Desktops } from \"../../../../Responsive\";\nimport { selectLang } from \"../../../../appConfigSlice\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { isRtl } from \"../../../../lib/isRtl\";\nimport { getToastConfig } from \"../../../../lib/toast\";\nimport { withRouter } from \"next/router\";\n\nvar Order = /*#__PURE__*/function (_React$Component) {\n  _inherits(Order, _React$Component);\n\n  var _super = _createSuper(Order);\n\n  function Order(props) {\n    var _formData, _orderState;\n\n    var _this;\n\n    _classCallCheck(this, Order);\n\n    _this = _super.call(this, props); //this code is for Development purpose\n\n    _defineProperty(_assertThisInitialized(_this), \"handleStep\", function (type) {\n      var step, newFormState;\n      var curstep = _this.state.step;\n\n      if (type === COMPLETE_AND_NEXT) {\n        newFormState = _objectSpread(_objectSpread({}, _this.state.orderState), {}, _defineProperty({}, curstep, _objectSpread(_objectSpread({}, _this.state.orderState[curstep]), {}, {\n          active: false,\n          complete: true\n        })));\n        type = NEXT;\n      } else {\n        newFormState = _objectSpread(_objectSpread({}, _this.state.orderState), {}, _defineProperty({}, curstep, _objectSpread(_objectSpread({}, _this.state.orderState[curstep]), {}, {\n          active: false\n        })));\n      }\n\n      switch (type) {\n        case NEXT:\n          step = curstep >= MAXSTEP ? MAXSTEP : curstep + 1;\n          break;\n\n        case PREV:\n          step = curstep <= 1 ? 1 : curstep - 1;\n          break;\n\n        default:\n          step = type;\n          break;\n      }\n\n      newFormState[step].active = true;\n\n      _this.setState({\n        step: step,\n        orderState: newFormState\n      });\n    });\n\n    _this.lang = _this.props.lang; // this.content = data[this.lang].search;\n    // this.content2 = data2[this.lang].goodsSliderComponent;\n    ///////////\n\n    _this.randId = v4();\n    var formData = (_formData = {}, _defineProperty(_formData, SHIPPING, {}), _defineProperty(_formData, PAYMENT, {}), _formData);\n    var token = _this.props.router.query.token ? true : false;\n    var payment = _this.props.router.query.to == \"pay\" ? true : _this.props.router.query.to == \"downloadable\" ? true : false;\n    var _step = SHIPPING;\n\n    if (token) {\n      _step = ORDERPLACED;\n    } else if (payment) {\n      _step = PAYMENT;\n    }\n\n    var orderState = (_orderState = {}, _defineProperty(_orderState, SHIPPING, {\n      complete: payment ? true : false,\n      active: payment ? false : true,\n      id: v4()\n    }), _defineProperty(_orderState, PAYMENT, {\n      complete: false,\n      active: payment ? true : false,\n      id: v4()\n    }), _defineProperty(_orderState, ORDERPLACED, {\n      complete: false,\n      active: false,\n      id: v4()\n    }), _orderState);\n    _this.state = {\n      step: _step,\n      orderState: orderState,\n      handleStep: _this.handleStep\n    };\n    return _this;\n  }\n\n  _createClass(Order, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {//   setTimeout(() => {\n      //     this.setState(\n      //       {\n      //         step: PAYMENT,\n      //       },\n      //       () => {\n      //         setTimeout(() => {\n      //           this.setState({\n      //             step: ORDERPLACED,\n      //           });\n      //         }, 4000);\n      //       }\n      //     );\n      //   }, 2000);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var step = this.state.step;\n      var content;\n\n      switch (step) {\n        case SHIPPING:\n          content = __jsx(ShippingAddress, {\n            handleOrderStep: this.handleStep\n          });\n          break;\n\n        case PAYMENT:\n          content = __jsx(Payment, {\n            content2: this.content2\n          });\n          break;\n\n        case ORDERPLACED:\n          content = __jsx(OrderPlaced, {\n            content2: this.content2\n          });\n          break;\n\n        default:\n          break;\n      }\n\n      return __jsx(\"main\", {\n        className: \"order-re container siteWidthContainer\"\n      }, __jsx(ToastContainer, _extends({\n        rtl: isRtl(this.props.lang)\n      }, getToastConfig())), __jsx(orderContext.Provider, {\n        value: this.state\n      }, __jsx(SwitchTransition, {\n        className: \"user-panel__container\"\n      }, __jsx(CSSTransition, {\n        key: step !== ORDERPLACED ? this.randId : this.state.orderState[step].id,\n        classNames: \"user-panel__routes\",\n        timeout: 200\n      }, __jsx(React.Fragment, null, step !== ORDERPLACED && __jsx(\"div\", null, __jsx(React.Fragment, null, __jsx(DesktopsAndBigger, null, __jsx(OrderNav, null)), __jsx(Desktops, null, __jsx(MobileOrderNav, null)), __jsx(SwitchTransition, {\n        className: \"user-panel__container\"\n      }, __jsx(CSSTransition, {\n        key: this.state.orderState[step].id,\n        classNames: \"user-panel__routes\",\n        timeout: 200\n      }, __jsx(\"div\", {\n        className: \"animate-cnt\"\n      }, content))))), step === ORDERPLACED && content)))));\n    }\n  }]);\n\n  return Order;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    lang: selectLang(state)\n  };\n};\n\nexport default connect(mapStateToProps)(withRouter(Order));","map":null,"metadata":{},"sourceType":"module"}