{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { client__fetchCities, client__fetchCountries, client__fetchProvince } from \"../../../../lib/api/client/clientCommon\";\nimport { client_fetchComment, client_fetchSpecefi, client__getPostMethod } from \"../../../../lib/api/client/clientGoodDetail\";\nexport const LOADING = \"loading\";\nexport const IDLE = \"idle\";\nexport const SUCCEEDED = \"succeeded\";\nexport const ERROR = \"error\";\nexport const initialState = {\n  status: IDLE,\n  error: null,\n  comment: {\n    status: IDLE,\n    error: null\n  },\n  specifi: {\n    status: IDLE,\n    error: null\n  }\n}; //// selectors\n\nexport const selectCommnetStatus = state => state.goodDetail.comment.status;\nexport const selectSpecifiStatus = state => state.goodDetail.specifi.status; //// thunk actions\n\nexport const fetchComment = createAsyncThunk(\"goodDetail/fetchComment\", async params => {\n  const result = await client_fetchComment(params.pageSize, params.pageNumber, params.id);\n  return result;\n});\nexport const fetchSpecifi = createAsyncThunk(\"goodDetail/fetchSpecifi\", async goodId => {\n  const result = await client_fetchSpecefi(goodId);\n  return result;\n}); /// goodDetailSlice slice\n\nconst goodDetailSlice = createSlice({\n  name: \"goodDetail\",\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [fetchComment.pending]: state => {\n      state.comment.status = LOADING;\n    },\n    [fetchComment.fulfilled]: state => {\n      state.comment.status = SUCCEEDED;\n    },\n    [fetchComment.rejected]: (state, action) => {\n      state.comment.status = ERROR;\n      state.comment.error = action.payload;\n    },\n    /// specification thunk\n    [fetchSpecifi.pending]: state => {\n      state.specifi.status = LOADING;\n    },\n    [fetchSpecifi.fulfilled]: state => {\n      state.specifi.status = SUCCEEDED;\n    },\n    [fetchSpecifi.rejected]: (state, action) => {\n      state.specifi.status = ERROR;\n      state.specifi.error = action.payload;\n    }\n  }\n}); //// goodDetial aside api\n\nexport const fetchCountry = async () => {\n  const result = await client__fetchCountries();\n  return result.result;\n};\nexport const fetchCities = async provinceId => {\n  const result = await client__fetchCities(provinceId);\n  return result.result;\n};\nexport const fetchProvinces = async countryId => {\n  const result = await client__fetchProvince(countryId);\n  return result.result;\n};\nexport const getPostMethod = async ({\n  shopId,\n  countryId,\n  cityId,\n  provinceId\n}) => {\n  const result = await client__getPostMethod(shopId, countryId, cityId, provinceId);\n  return result.result;\n};\nexport default goodDetailSlice.reducer;","map":null,"metadata":{},"sourceType":"module"}