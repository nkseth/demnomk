{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from \"react\"; // import \"./UploadBox.scss\";\n\nimport { useDropzone } from \"react-dropzone\";\nimport imgupload from \"./../../../assets/icons/createshop/img-upload.svg\";\nimport { Translate } from \"react-localize-redux\";\nimport { useEffect } from \"react\";\nimport { v4 } from \"uuid\";\nexport default function UploadBox(props, _ref) {\n  var className = _ref.className;\n\n  var _useState = useState([]),\n      files = _useState[0],\n      setFiles = _useState[1];\n\n  var _useDropzone = useDropzone({\n    accept: \"image/*\",\n    noClick: true,\n    noKeyboard: true,\n    multiple: false,\n    onDropAccepted: function onDropAccepted(acceptedFiles) {\n      props.handleSelectFile(acceptedFiles, props.index);\n      setFiles(acceptedFiles.map(function (file) {\n        return Object.assign(file, {\n          preview: URL.createObjectURL(file)\n        });\n      }));\n    }\n  }),\n      getRootProps = _useDropzone.getRootProps,\n      getInputProps = _useDropzone.getInputProps,\n      open = _useDropzone.open;\n\n  var setInitialFile = function setInitialFile() {\n    var arr = [];\n\n    if (props.oldFile == undefined) {\n      return;\n    }\n\n    if (props.oldFile[props.index] != null) {\n      if (props.oldFile[props.index] == files[0]) {\n        return;\n      }\n\n      arr.push(props.oldFile[props.index]);\n      setFiles(arr.map(function (file) {\n        return Object.assign(file, {\n          preview: URL.createObjectURL(file)\n        });\n      }));\n    }\n  };\n\n  useEffect(function () {\n    setInitialFile();\n  }, [files]);\n  var thumbs = files.map(function (file) {\n    return __jsx(\"img\", {\n      src: file.preview,\n      key: file.name,\n      className: \"uploadBox__img\",\n      alt: \"upload\"\n    });\n  });\n  var names = files.map(function (file) {\n    return __jsx(\"li\", {\n      className: \"mb-2\"\n    }, __jsx(\"span\", {\n      className: \"uploadBox__drag-text\"\n    }, file.name));\n  });\n\n  if (thumbs.length === 0) {\n    thumbs.push(__jsx(\"img\", {\n      src: imgupload,\n      key: v4(),\n      alt: \"upload icon\",\n      className: \"uploadBox__img uploadBox__img--icon\"\n    }));\n  }\n\n  return __jsx(\"section\", {\n    className: \"uploadBox \".concat(className ? className : \"\")\n  }, __jsx(\"div\", getRootProps({\n    className: \"dropzone\"\n  }), __jsx(\"input\", getInputProps()), __jsx(\"div\", {\n    className: \"d-flex flex-row align-items-center\"\n  }, __jsx(\"div\", {\n    className: \"uploadBox__img-cnt\"\n  }, thumbs), __jsx(\"div\", {\n    className: \"uploadBox__right d-flex flex-row align-items-center flex-wrap\"\n  }, __jsx(\"ul\", {\n    className: \"w-100 p-0 m-0\"\n  }, names), __jsx(\"span\", {\n    className: \"uploadBox__drag-text\"\n  }, __jsx(Translate, {\n    id: \"upload.drag-drop\"\n  })), __jsx(\"button\", {\n    onClick: open,\n    className: \"uploadBox__browse\",\n    type: \"button\"\n  }, __jsx(Translate, {\n    id: \"upload.browse\"\n  }))))));\n}","map":null,"metadata":{},"sourceType":"module"}