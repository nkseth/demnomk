{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\"; // import \"./MobileMenu.scss\";\n// import \"./MobileMenu-rtl.scss\";\n\nimport Item from \"./../../app/header/LayoutsHeader/Nav/Items/item\";\nimport Category from \"./../../app/header/LayoutsHeader/Nav/Category/category\";\nimport { ReactComponent as HomeIcon } from \"./../../../assets/icons/house.svg\";\nimport { ReactComponent as HeaderDealsIcon } from \"./../../../assets/icons/header-deals.svg\";\nimport { ReactComponent as OrderTrackingIcon } from \"./../../../assets/icons/header-OrderTracking.svg\";\nimport { ReactComponent as HelpIcon } from \"./../../../assets/icons/header-help.svg\";\nimport { ReactComponent as StoreIcon } from \"./../../../assets/icons/header-store.svg\";\nimport { ReactComponent as StoreIcon2 } from \"./../../../assets/icons/store-icon.svg\";\nimport Bahrain from \"./../../../assets/images/img-bahrain.svg\";\nimport UnitedStates from \"./../../../assets/images/img-united-states.svg\";\nimport logo2 from \"./../../../assets/images/logo-2.png\";\nimport { Dropdown, Button } from \"../../common\";\nimport CheckBoxList from \"./../../app/pages/Search/SearchLayout/CheckBoxList/CheckBoxList\";\nimport exp from \"../../../assets/icons/express.png\";\nimport expAr from \"../../../assets/icons/express-ar.png\";\nimport SeeMore from \"./../../app/pages/Search/SearchLayout/SeeMore/SeeMore\";\nimport RangeBox from \"./../../app/pages/Search/SearchLayout/RangeBox/RangeBox\";\nimport { Translate } from \"react-localize-redux\";\nimport classnames from \"classnames\";\nimport Link from \"next/link\";\nimport { useSelector } from \"react-redux\";\nimport { selectLang, selectCurr } from \"../../../appConfigSlice\";\nimport { useRouter } from \"next/router\";\nimport { switchLang, switchCurr } from \"../../../lib/switch\";\nimport CheckBoxList2 from \"../../app/pages/Search/SearchLayout/CheckBoxList/CheckBoxList2\";\nimport { useState } from \"react\";\nimport { SEARCH_TYPE_DEAL } from \"../../../lib/querys\";\nimport Switch from \"react-switch\";\nimport BrandsCheckList from \"../../app/pages/Search/SearchLayout/CheckBoxList/BrandsCheckList\";\n\nconst MobileMenu = props => {\n  var _props$filters, _props$filters2, _props$filters3, _props$filters4, _data$childCategory$c, _Object$keys;\n\n  const disableBodyOverflow = flag => {\n    if (flag) {\n      document.body.style.overflowY = \"hidden\";\n    } else {\n      document.body.style.overflowY = \"auto\";\n      props.closeMenu();\n    }\n  };\n\n  const {\n    asPath\n  } = useRouter();\n  const {\n    0: specSelected,\n    1: setSpecSelected\n  } = useState(props.specSelected);\n  const {\n    0: range,\n    1: setRange\n  } = useState({});\n  const {\n    0: arrival,\n    1: setArrival\n  } = useState([(_props$filters = props.filters) === null || _props$filters === void 0 ? void 0 : _props$filters.goodsCreatedDay]);\n  const {\n    0: brands,\n    1: setBrand\n  } = useState({\n    selected: props.selectedBrands,\n    ids: (_props$filters2 = props.filters) === null || _props$filters2 === void 0 ? void 0 : _props$filters2.brandId\n  });\n  const {\n    0: justExist,\n    1: setJustExist\n  } = useState((_props$filters3 = props.filters) === null || _props$filters3 === void 0 ? void 0 : _props$filters3.justExist);\n  const {\n    0: sortedId,\n    1: setSortId\n  } = useState((_props$filters4 = props.filters) === null || _props$filters4 === void 0 ? void 0 : _props$filters4.orderByType);\n  const lang = useSelector(selectLang);\n  const curr = useSelector(selectCurr);\n  const data = props.data; // document.getElementById('page-nav-toggle').checked = true;\n\n  disableBodyOverflow(true);\n\n  const handleFilterClick = () => {\n    props.mobileFilterClick(arrival, brands, range, justExist);\n    disableBodyOverflow(false);\n  };\n\n  const handleBrandClick = (brand, checked) => {\n    const id = parseInt(brand.id);\n    let selected = [...brands.selected];\n    let ids = [...brands.ids];\n\n    if (checked) {\n      selected.push(brand);\n      ids.push(id);\n    } else {\n      // if is remove\n      selected = selected.filter(brand => {\n        return brand.id != id;\n      });\n      const index = ids.indexOf(id);\n\n      if (index > -1) {\n        ids.splice(index, 1);\n      }\n    }\n\n    setBrand({\n      selected,\n      ids\n    });\n  };\n\n  const handleSortClick = () => {\n    props.mobileSortClick(sortedId);\n    disableBodyOverflow(false);\n  };\n\n  const handleSortChange = e => {\n    setSortId(parseInt(e.target.value));\n  };\n\n  return __jsx(\"div\", null, __jsx(\"input\", {\n    id: \"page-nav-toggle\",\n    className: \"main-navigation-toggle\",\n    type: \"checkbox\",\n    defaultChecked: \"true\"\n  }), __jsx(\"nav\", {\n    className: \"main-navigation\"\n  }, __jsx(\"label\", {\n    className: \"main-navigation-toggle-label\",\n    htmlFor: \"page-nav-toggle\"\n  }, __jsx(\"svg\", {\n    onClick: () => disableBodyOverflow(false),\n    id: \"close_big\",\n    width: \"24\",\n    height: \"24\",\n    \"data-name\": \"close big\",\n    viewBox: \"0 0 24 24\",\n    className: \"icon--menu-toggle-close\"\n  }, __jsx(\"g\", {\n    id: \"close\",\n    transform: \"translate(4.158 4.156)\"\n  }, __jsx(\"path\", {\n    id: \"Path_537\",\n    fill: \"#acb1b8\",\n    d: \"M15.637 3.19l-4.9 4.9 4.9 4.9A1.867 1.867 0 1 1 13 15.64l-4.9-4.9-4.9 4.9A1.867 1.867 0 0 1 .547 13l4.9-4.9-4.9-4.9A1.867 1.867 0 0 1 3.187.548l4.9 4.9L13 .548a1.867 1.867 0 0 1 2.637 2.642z\",\n    \"data-name\": \"Path 537\",\n    transform: \"translate(0 -.002)\"\n  })))), props.weAreInPanel && props.userPanelNavi, __jsx(\"div\", {\n    ref: props.mainManuRef,\n    className: classnames({\n      \"mainMenu--inactive\": props.weAreInPanel,\n      mainMenu: props.weAreInPanel\n    })\n  }, props.isMainMenu === true ? __jsx(\"div\", null, __jsx(\"div\", {\n    className: \"main-navigation__logo\"\n  }, __jsx(\"img\", {\n    src: `${process.env.NEXT_PUBLIC_LOGO_PREFIX}/${props.logo}`,\n    alt: \"logo2\"\n  })), __jsx(\"div\", {\n    className: \"main-navigation__section\"\n  }, __jsx(\"div\", {\n    className: \"main-navigation__sign-in\"\n  }, __jsx(Link, {\n    href: `/${curr}-${lang}/Auth`\n  }, __jsx(\"a\", {\n    href: \"\"\n  }, __jsx(\"img\", {\n    src: props.userCheckIcon,\n    alt: \"userCheckIcon\"\n  }), __jsx(\"span\", null, __jsx(Translate, {\n    id: \"singin\"\n  }))))), __jsx(\"div\", {\n    className: \"main-navigation__lang\"\n  }, __jsx(\"span\", null, __jsx(Translate, {\n    id: \"language\"\n  })), props.lang.code === \"en\" ? __jsx(\"span\", {\n    className: \"main-navigation__lang-ar\",\n    onClick: e => {\n      e.preventDefault();\n      switchLang(asPath, true);\n    }\n  }, \"\\u0627\\u0644\\u0639\\u0631\\u0628\\u064A\\u0629\") : __jsx(\"span\", {\n    className: \"main-navigation__lang-en\",\n    onClick: e => {\n      e.preventDefault();\n      switchLang(asPath, true);\n    }\n  }, \"English\")), __jsx(\"div\", {\n    className: \"main-navigation__lang\",\n    style: {\n      borderBottom: \"none\"\n    }\n  }, __jsx(\"span\", null, __jsx(Translate, {\n    id: \"currency\"\n  })), props.currency === \"usd\" ? __jsx(\"div\", {\n    className: \"main-navigation__lang-ar\",\n    onClick: () => {\n      switchCurr(asPath, true);\n    }\n  }, __jsx(\"img\", {\n    className: \"mr-3 ml-3\",\n    src: Bahrain,\n    alt: \"bhd\"\n  }), \"BHD\") : __jsx(\"div\", {\n    className: \"main-navigation__lang-en\",\n    onClick: () => {\n      switchCurr(asPath, true);\n    }\n  }, __jsx(\"img\", {\n    className: \"mr-3 ml-3\",\n    src: UnitedStates,\n    alt: \"usd\"\n  }), \"USD\")))) : __jsx(\"div\", {\n    style: {\n      padding: \"0 2rem\"\n    },\n    className: \"main-navigation__section-filter d-flex align-items-center\"\n  }, __jsx(\"h4\", {\n    className: \"section-filter-top-title\"\n  }, props.filterSort ? __jsx(Translate, {\n    id: \"sort\"\n  }) : __jsx(Translate, {\n    id: \"filter\"\n  })), __jsx(\"span\", {\n    className: \"section-filter-top-clear\"\n  })), props.filterSort || props.filtersMenu ? null : __jsx(\"div\", {\n    className: \"main-navigation__section\"\n  }, __jsx(Category, {\n    categoryTitle: __jsx(Translate, {\n      id: \"category\"\n    }),\n    type: \"mobile\",\n    data: props.data.categories\n  })), props.isMainMenu === true ? __jsx(\"div\", {\n    className: \"main-navigation__section main-navigation__items mb-5\"\n  }, __jsx(\"ul\", null, __jsx(\"li\", {\n    className: \"nav__item nav__item--secound\"\n  }, __jsx(Link, {\n    href: `/${curr}-${lang}`\n  }, __jsx(\"a\", null, __jsx(Item, {\n    content: __jsx(Translate, {\n      id: \"homeItem\"\n    }),\n    isCategory: false,\n    icon: __jsx(HomeIcon, {\n      className: \"nav__item-svg\"\n    })\n  })))), __jsx(\"li\", {\n    className: \"nav__item\"\n  }, __jsx(Link, {\n    href: `/${curr}-${lang}/search?type=${SEARCH_TYPE_DEAL}`\n  }, __jsx(\"a\", null, __jsx(Item, {\n    content: __jsx(Translate, {\n      id: \"dealsItem\"\n    }),\n    isCategory: false,\n    icon: __jsx(HeaderDealsIcon, {\n      className: \"nav__item-svg\"\n    })\n  })))), __jsx(\"li\", {\n    className: \"nav__item\"\n  }, __jsx(Link, {\n    href: `/${curr}-${lang}/tracking`\n  }, __jsx(\"a\", null, __jsx(Item, {\n    content: __jsx(Translate, {\n      id: \"orderTrackingItem\"\n    }),\n    isCategory: false,\n    icon: __jsx(OrderTrackingIcon, {\n      className: \"nav__item-svg\"\n    })\n  })))), __jsx(\"li\", {\n    className: \"nav__item\"\n  }, __jsx(Link, {\n    href: `/${curr}-${lang}/hc`\n  }, __jsx(\"a\", null, __jsx(Item, {\n    content: __jsx(Translate, {\n      id: \"helpCenterItem\"\n    }),\n    isCategory: false,\n    icon: __jsx(HelpIcon, {\n      className: \"nav__item-svg\"\n    })\n  })))), __jsx(\"li\", {\n    className: \"nav__item\"\n  }, __jsx(Link, {\n    href: `/${curr}-${lang}/vendors`\n  }, __jsx(\"a\", null, __jsx(Item, {\n    content: __jsx(Translate, {\n      id: \"main-nav.storeList\"\n    }),\n    isCategory: false,\n    icon: __jsx(StoreIcon2, {\n      className: \"nav__item-svg\"\n    })\n  })))), __jsx(\"li\", {\n    className: \"nav__item nav__item--last\"\n  }, __jsx(Link, {\n    href: `/${curr}-${lang}/becomeSeller`\n  }, __jsx(\"a\", null, __jsx(Item, {\n    content: __jsx(Translate, {\n      id: \"sellWithUsItem\"\n    }),\n    isCategory: false,\n    icon: __jsx(StoreIcon, {\n      className: \"nav__item-svg\"\n    })\n  })))))) : __jsx(\"div\", {\n    className: \"main-navigation__section-filter main-navigation__section-filter--items\"\n  }, props.filterSort ? __jsx(\"div\", {\n    className: \"section-filter-sort\"\n  }, props.sortedBy.map(sort => {\n    return __jsx(\"label\", {\n      key: sort.value,\n      htmlFor: `rdo-${sort.value}`\n    }, __jsx(\"input\", {\n      type: \"radio\",\n      className: \"option-input radio\",\n      name: sort.label,\n      value: sort.value,\n      id: `rdo-${sort.value}`,\n      checked: sort.value === sortedId,\n      onChange: handleSortChange\n    }), sort.label);\n  })) : __jsx(\"div\", null, props.providerMenu && __jsx(Dropdown, {\n    alwaysOpen: false,\n    headerClass: \"search__filter-header\",\n    containerClass: \"search__list-container\",\n    text: __jsx(Translate, {\n      id: \"searchAside.FeaturedCategories\"\n    })\n  }, __jsx(\"ul\", {\n    className: \"search__filter-list\"\n  }, data.childCategory && data.childCategory.map(cat => {\n    return __jsx(\"li\", {\n      key: cat.categoryId,\n      className: \"search__list-item\"\n    }, __jsx(Dropdown, {\n      headerClass: \"search__drop-header\",\n      text: cat.categoryTitle,\n      haveLink: true,\n      link: `/${curr}-${lang}/${props.providerName}?id=${cat.categoryId}`\n    }, __jsx(\"ul\", {\n      className: \"search__drop-list\"\n    }, cat.child && cat.child.map(child2 => {\n      return __jsx(\"li\", {\n        key: child2.categoryId,\n        className: \"search__list-item\"\n      }, __jsx(Link, {\n        href: `/${curr}-${lang}/${props.providerName}?id=${child2.categoryId}`\n      }, __jsx(\"a\", {\n        onClick: () => {\n          disableBodyOverflow(false);\n        },\n        className: \"search__list-link\"\n      }, child2.categoryTitle)));\n    }))));\n  }))), props.searchMenu && data.childCategory && __jsx(Dropdown, {\n    alwaysOpen: true,\n    headerClass: \"search__filter-header\",\n    containerClass: \"search__list-container\",\n    text: data.childCategory.categoryTitle\n  }, __jsx(\"ul\", {\n    className: \"search__filter-list\"\n  }, (_data$childCategory$c = data.childCategory.child) === null || _data$childCategory$c === void 0 ? void 0 : _data$childCategory$c.map(cat => {\n    return __jsx(\"li\", {\n      key: cat.categoryId,\n      className: \"search__list-item\"\n    }, __jsx(Dropdown, {\n      headerClass: \"search__drop-header\",\n      text: cat.categoryTitle\n    }, __jsx(\"ul\", {\n      className: \"search__drop-list\"\n    }, cat.child && cat.child.map(child2 => {\n      return __jsx(\"li\", {\n        key: child2.categoryId,\n        className: \"search__list-item\"\n      }, __jsx(Link, {\n        href: `/${props.curr}-${props.lang}/search?type=3&id=${child2.categoryId}`\n      }, __jsx(\"a\", {\n        onClick: () => {\n          disableBodyOverflow(false);\n        },\n        className: \"search__list-link\"\n      }, child2.categoryTitle)));\n    }))));\n  }))), __jsx(Dropdown, {\n    alwaysOpen: false,\n    headerClass: \"search__filter-header\",\n    containerClass: \"search__list-container\",\n    text: __jsx(Translate, {\n      id: \"searchAside.NewArrivals\"\n    })\n  }, __jsx(CheckBoxList, {\n    listClass: \"search__filter-list\",\n    itemClass: \"search__list-item search__list-item--check\",\n    data: props.arrivals,\n    dataName: \"title\",\n    dataValue: \"value\",\n    initialSelectIdArr: arrival,\n    singleSelect: true,\n    onSelect: arr => {\n      setArrival(arr);\n    }\n  })), (_Object$keys = Object.keys(data.specs || {})) === null || _Object$keys === void 0 ? void 0 : _Object$keys.map(key => {\n    return __jsx(Dropdown, {\n      key: data.specs[key].specId,\n      alwaysOpen: false,\n      headerClass: \"search__filter-header\",\n      containerClass: \"search__list-container\",\n      text: data.specs[key].specTitle\n    }, __jsx(CheckBoxList2, {\n      listClass: \"search__filter-list\",\n      itemClass: \"search__list-item search__list-item--check\",\n      data: data.specs[key].options,\n      dataName: \"optionTitle\",\n      dataValue: \"optionId\",\n      initialSelectIdArr: specSelected[key],\n      singleSelect: !data.specs[key].isMultiSelectInFilter,\n      onSelect: arr => {\n        props.handleSpecSelect(data.specs[key].specId, arr, true);\n        setSpecSelected(_objectSpread(_objectSpread({}, specSelected), {}, {\n          [data.specs[key].specId]: arr\n        }));\n      }\n    }));\n  }), __jsx(Dropdown, {\n    alwaysOpen: false,\n    headerClass: \"search__filter-header\",\n    containerClass: \"search__list-container\",\n    text: __jsx(Translate, {\n      id: \"searchAside.Price\"\n    })\n  }, __jsx(RangeBox, {\n    show: false,\n    min: 0,\n    max: data.maxPrice,\n    onChange: value => {\n      setRange(value);\n    },\n    setText: __jsx(Translate, {\n      id: \"setPrice\"\n    })\n  })), __jsx(Dropdown, {\n    alwaysOpen: false,\n    headerClass: \"search__filter-header\",\n    containerClass: \"search__list-container\",\n    text: __jsx(Translate, {\n      id: \"searchAside.Brand\"\n    })\n  }, __jsx(Translate, null, ({\n    translate\n  }) => {\n    var _props$filters5;\n\n    return __jsx(BrandsCheckList, {\n      catId: (_props$filters5 = props.filters) === null || _props$filters5 === void 0 ? void 0 : _props$filters5.id,\n      itemClass: \"search__list-item search__list-item--check\",\n      listClass: \"search__filter-list\",\n      placeholder: translate(\"searchplaceholder\"),\n      selecteIds: brands.ids,\n      onSelect: (brand, checked) => {\n        handleBrandClick(brand, checked); // this.props.brandsChangedAction(brand, checked);\n      }\n    }) // <CheckBoxList2\n    //   search\n    //   textOpen={<Translate id=\"seemore\" />}\n    //   textClose=\"close\"\n    //   seeMore\n    //   maxItemShow={2}\n    //   placeholder={translate(\"searchplaceholder\")}\n    //   data={data.brands}\n    //   dataName=\"brandTitle\"\n    //   dataValue=\"brandId\"\n    //   initialSelectIdArr={brands}\n    //   listClass=\"search__filter-list\"\n    //   itemClass=\"search__list-item search__list-item--check\"\n    //   onSelect={(arr) => {\n    //     setBrands(arr);\n    //   }}\n    // />\n    ;\n  })), __jsx(\"div\", {\n    className: `dropdown search__list-container`\n  }, __jsx(\"div\", {\n    href: \"#\",\n    className: `dropdown__link search__filter-header single-lined`\n  }, __jsx(\"span\", null, __jsx(Translate, {\n    id: \"just-exist\"\n  })), __jsx(Switch, {\n    onChange: checked => {\n      setJustExist(checked);\n    } // width={46}\n    // height={22}\n    ,\n    uncheckedIcon: \"\",\n    checkedIcon: \"\",\n    checked: justExist\n  }))))))), !props.isMainMenu ? __jsx(\"div\", {\n    className: \"section-filter-button\"\n  }, props.filterSort ? __jsx(Button, {\n    onClick: handleSortClick,\n    radius: false,\n    value: __jsx(Translate, {\n      id: \"sort\"\n    })\n  }) : __jsx(Button, {\n    onClick: handleFilterClick,\n    radius: false,\n    value: __jsx(Translate, {\n      id: \"filter3\"\n    })\n  })) : null);\n};\n\nexport default MobileMenu;","map":null,"metadata":{},"sourceType":"module"}